<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <link href="../default.css" rel="stylesheet" media="screen"/>
    <link rel="shortcut icon" href="../im-icon.png" type="image/png"/>
    <link rel="icon" href="../im-icon.png" type="image/png"/>
    <title>INTER-Mediator Lab. - Room 1</title>
    <script type="text/javascript" src="contexts.php"></script>
    <script type="text/javascript" src="survery.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            if (INTERMediatorOnPage.INTERMediatorCheckBrowser(document.getElementById('nonsupportmessage'))) {
                INTERMediator.construct(true);
            }
        }
        INTERMediatorOnPage.doAfterConstruct = function () {
            INTERMediatorOnPage.setCookieDomainWide('currentpage', '10');
        }
    </script>
</head>
<body>
<div id="nonsupportmessage" style="background-color:#333333">
    <div style="text-align:center;color:yellow">If you see this, you must use any unsupported web browser. Or
        constructing the page.
    </div>
    <div style="text-align:center;color:yellow">この表示が見えている場合、描画処理中です。しばらくお待ちください。
        長時間見えている場合は、非対応ブラウザで参照しています。
    </div>
</div>
<div id="container">
    <h1 onclick="location.href='/';">
        <img class="logoInH1" src="../im-icon.png"/>
        <img class="logo2InH1" src="../im-lab.png"/>
        INTER-Mediator Lab. - Room 1
    </h1>

    <div class="box">
        <h2>実験環境</h2>

        <div class="insidebox">
            <div class="_im_enclosure">
                <div class="_im_repeater">
                    <div style="font-size: 80%; text-align: right;">
                        ログインユーザ：<span class="IM[loginuser@username]"></span>|
                        <button onclick="INTERMediatorOnPage.logout();location.href='/room1/';">ログアウト</button>
                    </div>
                    <p>ページファイルと定義ファイルは問題毎にファイルは用意しましたが、すべての問題で検証は必要ないかもしれません。いずれも、問題に記述されたコードの一部が入力されているというわけではなく、必要ならその部分も入力してください。一部の問題では、問題文で指定されたファイル名があります。ここで検証した結果を解答するときには、問題文に合わせて記述等を変更をしてください。</p>
                    <p>ページファイル、定義ファイルをそれぞれ編集します。修正結果は自動的に保存されますが、カーソルがテキストフィールドの外に出るときに保存をしますので、場合によってはページ上のなにもないところをクリックするなどして、確実に保存されるようにしてください。なお、ウインドウのunloadは何もしていないので、ウインドウを閉じると保存は行いません。定義ファイルとページファイルが作成できたら、ページファイルを表示します。</p>
                    <p>表示後、更新されていない場合はoption+更新アイコン等で、キャッシュをクリアして再ロードしてください。</p>
                    <table>
                        <tr>
                            <td><a href="playground/$/page1.html" target="_blank" class="IM[loginuser@username@$href]">
                                page1.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page1.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page1.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def1.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def1.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page2.html" target="_blank" class="IM[loginuser@username@$href]">
                                page2.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page2.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page2.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def2.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def2.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page3.html" target="_blank" class="IM[loginuser@username@$href]">
                                page3.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page3.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page3.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def3.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def3.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page4.html" target="_blank" class="IM[loginuser@username@$href]">
                                page4.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page4.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page4.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def4.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def4.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page5.html" target="_blank" class="IM[loginuser@username@$href]">
                                page5.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page5.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page5.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def5.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def5.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page6.html" target="_blank" class="IM[loginuser@username@$href]">
                                page6.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page6.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page6.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def6.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def6.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page7.html" target="_blank" class="IM[loginuser@username@$href]">
                                page7.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page7.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page7.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def7.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def7.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/page8.html" target="_blank" class="IM[loginuser@username@$href]">
                                page8.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/page8.html"
                                   target="_blank" class="IM[loginuser@username@$href]">page8.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/def8.php"
                                   target="_blank" class="IM[loginuser@username@$href]">def8.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                    </table>
                    <p>学習コンテンツのうち、「7. マスター参照の組み込み」で紹介したページをsample7.html/sample7.phpに、「8. 関連レコードの展開」に紹介したページをsample7.html/sample7.phpに作成しました。これらのページを表示すると、実際にデータベースの結果を取り出したものが参照できます。ポップアップメニューが1カ所ありますが、他の人が変更している可能性もあります。ページと定義ファイルについては、利用者一人一人が別々のファイルを所持しているので、変更してもかまいません。初期状態に戻す必要が出たら、ご連絡いただければ元に戻します。</p>
                    <table>
                        <tr>
                            <td><a href="playground/$/sample7.html" target="_blank" class="IM[loginuser@username@$href]">
                                sample7.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/sample7.html"
                                   target="_blank" class="IM[loginuser@username@$href]">sample7.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/sample7.php"
                                   target="_blank" class="IM[loginuser@username@$href]">sample7.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
                        <tr>
                            <td><a href="playground/$/sample8.html" target="_blank" class="IM[loginuser@username@$href]">
                                sample8.htmlを表示する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/pageedit.html?target=../../playground/$/sample8.html"
                                   target="_blank" class="IM[loginuser@username@$href]">sample8.htmlを編集する（別ウインドウで開きます）</a>
                            </td>
                            <td>
                                <a href="rsrcs/INTER-Mediator-Support/defedit.html?target=../../playground/$/sample8.php"
                                   target="_blank" class="IM[loginuser@username@$href]">sample8.phpを編集する（別ウインドウで開きます）</a>
                            </td>
                        </tr>
</table>
                        <p><a href="index.html">実験のトップページ（Room 1）へ</a></p>

                 </div>
            </div>
        </div>
    </div>
    <div class="box">
        <h2>ページファイルエディタの使用方法</h2>
        <div class="insidebox">
            <p>ページファイルエディタは、HTMLコードをシンタックスカラーリングされた状態で編集可能です。ほぼ、キータイプ毎にサーバに保存に行くので、保存については気にしなくても大丈夫です。</p>
            <p>問題に合わせて自由に編集していただいてかまいませんが、冒頭に「&lt;!DOCTYPE html&gt;」は必ず付けてください。</p>
            <p>以下は初期状態です。ここでスタイルシートのリンクはこのまま流用してください。ページナビゲーションはスタイルシートの情報がないと、きちんと表示されませんが、この記述で正しいスタイルシートを参照します。なお、問題文についてはスタイルシートへのリンクを記述していませんが、不要という意味ではありません。このLINKタグ要素を残したまま修正するのがいいでしょう。</p>
            <div class="code">
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../../../default.css&quot;/&gt;

  &lt;/head&gt;
  &lt;body&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </div>
    </div>
    <div class="box">
        <h2>定義ファイルエディタの使用方法</h2>
        <div class="insidebox">
            <p>定義ファイルエディタは図に示すような画面です。横幅を広く取ってしまいますので、大きい画面で見る方が作業はしやすいでしょう。たくさんの設定箇所がありますが、実際に使うのはその一部です。空欄にしている項目は、定義ファイルには設定されません。</p>
            <p>テキストフィールドからフォーカスをはずしたときに書き込みに行きます。修正後、tabキーを押せば確実に保存されます。</p>
            <p>Contexts以下の部分については、必ず設定を加えたり、修正したりする必要があります。</p>
            <p>コンテキストを増やす場合は、nameのすぐ上にある「追加」ボタンをクリックしてください。コンテキスト全体を削除る場合は「削除」ボタンをクリックしますが、1つのコンテキストの領域の右下にある「削除」ボタンがそのコンテキスト自体を削除するためのボタンです。図では、「Options」のすぐ上右のところにあるボタンがその上の1つのコンテキストを削除するボタンです。</p>
            <p>Optionsについては記述や修正は不要です。</p>
            <p>Database Settingsについては、db-classに「PDO」と最初から記載されています。その設定のままにして、他の項目は何も入力しないようにしてください。データベースへの接続設定は別のファイルに正しく行われており、db-classへの設定のみで正しくデータベース処理はできています。</p>
            <p>Debugについては「false」と入力されています。ここは消さないで、そのままにしてください。</p>
            <p>最初に呼び出したときには、コンテキストが1つだけ定義されている状態になっています。nameは「context」となっています。table, view, keyに対する値が設定されています。</p>
            <p>query、sort、relationについては複数の設定が可能なので、「追加」や「削除」ボタンが用意されています。必要なら「追加」ボタンをクリックして、設定を追加し、テキストフィールドに必要な記述を行ってください。</p>
            <div><img src="rsrcs/defedit1.png"/></div>
        </div>
    </div>
</div>
</body>
</html>